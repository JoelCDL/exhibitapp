{% extends "calisphere/base.html,calisphere/pjaxTemplates/pjax-base.html"|pjax:request %}
{% load calisphere-extras %}
{% load markdown_filter %}

{% block page-metadata %}
{# {% include "calisphere/microdata.html" with title=item.title.0 description=item.description %} #}
{% endblock %}

{% block content %}
<h1>Exhibitions on Calisphere</h1>

<div class="collect-intro">

  <div class="row">
    <div class="col-xs-12 col-sm-6 collect-intro__overview">
      <p>This is where we will concisely explain what an exhibition is and why it is different from a collection and the amazing things people will see and hear and watch in our beautifully designed and painstakingly curated object groups.</p>
    </div>
  </div>

  <!-- Dynamically add class 'button__secondary' to <a> elements below for selected state -->

  <div class="collect-intro__button-container">
    <a class="btn btn-default collect-intro__button {% if random %}button__secondary{% endif %}" href="" data-pjax="js-pageContent">Random Explore</a>
    <a class="btn btn-default collect-intro__button {% if alphabet %}button__secondary{% endif %}" href="{% url 'exhibits:exhibitDirectory' %}" data-pjax="js-pageContent">Browse All</a>
    <a class="btn btn-default collect-intro__button {% if collection_q %}button__secondary{% endif %}" href="{% url 'exhibits:themeDirectory' %}" data-pjax="js-pageContent">Special Topics</a>
  </div>

</div>
<hr/>

{% block exhibitionsDirectory %}
<div class="row">
  <div class="col-md-4 col-md-offset-4" style="padding: 20px;">
    <form class="exhibit__title-search" role="search" id="js-exhibitTitleSearch" action="{% url 'exhibits:exhibitDirectory' %}" method="get">
      <label for="exhibit__search-field" class="exhibit__search-label" style="display: none;">Search exhibitions</label>
      <div class="input-group">
        <input id="exhibit__search-field" form="js-exhibitTitleSearch" name="title" value="{{ title }}" type="search" placeholder="Start typing exhibition name" class="form-control">
        <span class="input-group-btn">
          <button class="btn btn-default global-search__button" type="submit"><span class="fa fa-search"></span>
          </button>
        </span>
      </div>
    </form>
  </div>
</div>

<div class="row theme__exhibits">
  {% for exhibit in exhibits %}
    <div class="col-md-3 col-sm-4 col-xs-6">
      <a href="{{ exhibit.get_absolute_url }}" data-pjax="js-pageContent">
        <div class="exhibit__lockup--med">
          <div class="exhibit__lockup--med-image">
            <div class="aspect-ratio-content exhibit__lockup--med-image-content" style="background-image: url('{{ exhibit.exhibit_lockup }}');">
            </div>
          </div>
          <div class="exhibit__lockup--med-title">
            <div class="aspect-ratio-content exhibit__lockup--med-title-content">{{ exhibit }}</div>
          </div>
        </div>
      </a>
    </div>
  {% endfor %}
</div>
{% endblock %}

{% endblock %}