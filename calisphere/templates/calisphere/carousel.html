{% load calisphere-extras %}

<div class="carousel__search-results">
  Search results > {{ q }}
</div>

<div class="carousel__items-number">
  Displaying {{ start|add:1 }} - {{ start|add:6 }} of {{ numFound }}
</div>

<div class="carousel js-flickity" data-flickity-options='{ "cellAlign": "left", "contain": true, "pageDots": false, "percentPosition": false }'>
  
  {% for item in search_results %}
  <div class="carousel__item">
    <a class="js-item-link" href="{% url 'calisphere:itemView' item.id %}" data-item_id="{{ item.id }}">
      <img src="{{ thumbnailUrl }}crop/120x120/{{ item.reference_image_md5 }}" alt="{{ item.title.0 }}">
    </a>
    <div class="carousel__thumbnail-caption">{{ item.title.0|truncatewords:7 }}
    </div>
  </div>
  {% endfor %}

</div>

<div style="display: none;">
  <div class="col-md-1">
    {% if start|subtract:6 > 0 %}
      <button class="btn btn-link carousel__prev-button js-carousel-page" data-carousel_start="{{ start|subtract:6 }}">
        <span class="fa fa-caret-left"></span>
        Prev
      </button>
    {% elif start != 0 %}
      <button class="btn btn-link carousel__prev-button js-carousel-page" data-carousel_start="0">
        <span class="fa fa-caret-left"></span>
        Prev
      </button>
    {% endif %}
  </div>
  
  <div class="col-md-1">
    {% if start|add:6 < numFound %}
      <button class="btn btn-link carousel__next-button js-carousel-page" data-carousel_start="{{ start|add:6 }}">
        Next
        <span class="fa fa-caret-right"></span>
      </button>
    {% endif %}
  </div>
</div>