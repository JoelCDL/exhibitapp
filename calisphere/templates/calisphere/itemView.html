{% extends "calisphere/base.html"|pjax:request %}
{% load calisphere-extras %}

{% block content %}

<div id="js-carouselContainer">
  <div class="carousel__search-results">
    Search results > {{ q }} 
  </div>

  <div class="carousel__items-number">
    Displaying {{ start|add:1 }} - {{ start|add:6 }} of {{ numFound }}
  </div>

  <form id="js-carousel" data-numfound="{{ numFound }}">
    <input type="hidden" name="q" value="{{ q }}" form="js-carousel">
    {% for refine in rq %}
    <input type="hidden" name="rq" value="{{ refine }}" form="js-carousel">
    {% endfor %}
    {% for filter_type in filters %}
      {% for filter in filters|get_item:filter_type %}
        {% if filter_type == 'collection_data' or filter_type == 'repository_data' %}
          <input type="hidden" class="js-filterType" name="{{ filter_type }}" value="{{ filter.id }}" form="js-carousel">
        {% else %}
          <input type="hidden" class="js-filterType" name="{{ filter_type }}" value="{{ filter|slugify }}" form="js-carousel">
        {% endif %}
      {% endfor %}
    {% endfor %}
  </form>
    
  <div class="carousel" data-carousel_start="{{ start }}">
    {% include "calisphere/carousel.html" %}
  </div>
</div>

{% for item in items %}

  <p class="text__breadcrumb-nav">Search > {{ q }} > {{ item.title.0|truncatewords:7 }}</p>

  <h2 class="object__page-heading">{{ item.type.0 }} / <strong>{{ item.title.0|truncatewords:7 }}</strong></h2>
  
  {% if item.structmap_url != '' %}
    Hey I'm a Complex Object, amy hasn't see one of these before in the index! <br>
    {{ item.structmap_url }} <br>
    {{ item.structmap_text }} <br>
    {{ item.type_ss.0 }} <br>
  {% endif %} 
  
  {% if item.harvest_type.0 == 'harvested' %}
    {% if item.type_ss.0 == 'image' %}
      {% include 'calisphere/objectViewer/harvestedImage.html' %}
    {% else %}
      {% include 'calisphere/objectViewer/harvestedNonImage.html' %}
    {% endif %}
  {% elif item.harvest_type.0 == 'hosted' %}
    {% if item.type_ss.0 == 'image' %}
    {% elif item.type_ss.0 == 'moving image' %}
    {% elif item.type_ss.0 == 'sound' %}
    {% elif item.type_ss.0 == "text"%}
    {% elif item.type_ss.0 == "physical object"%}
    {% endif %}
  {% endif %}
  
  <div class="obj-buttons">

    <div class="obj-buttons__group1">

      <a class="btn btn-xs obj-buttons__envelope" title="Email" href="javascript: void(0)">
        <span class="fa fa-envelope-o fa-fw"></span>
      </a>

      <a class="obj-buttons__twitter" title="Twitter" href="javascript: void(0)">
        <span class="fa fa-twitter-square"></span>
      </a>

      <a class="obj-buttons__facebook" title="Facebook" href="javascript: void(0)">
        <span class="fa fa-facebook-square"></span>
      </a>

      <a class="btn btn-xs obj-buttons__citation" href="javascript: void(0)">
        Get Citation
      </a>

    </div>

    <div class="obj-buttons__group2">

      <span class="obj-buttons__contact-text">Need more information about this object? Contact the owning institution:</span>

      <a class="btn btn-xs button__contact-owner" href="javascript: void(0)">
        <span class="fa fa-envelope"></span>
        Contact Owner
      </a>

    </div>

  </div>

  <h3 class="meta-heading__preview">Metadata Preview. <a class="meta-heading__preview-link" href="{{ item.url_item }}">View complete record.</a></h3>

  <div class="meta-block">

    <dl class="meta-block__list">
      <dt class="meta-block__type">Title</dt>                      <dd class="meta-block__defin">{% for title in item.title %}{{ title }}                                | {% endfor %}</dd>
      <dt class="meta-block__type">Creator</dt>                    <dd class="meta-block__defin">{% for creator in item.creator %}{{ creator }}                          | {% endfor %}</dd>
      <dt class="meta-block__type">Contributor</dt>                <dd class="meta-block__defin">{% for contributor in item.contributor %}{{ contributor }}              | {% endfor %}</dd>
      <dt class="meta-block__type">Date</dt>                       <dd class="meta-block__defin">{% for date in item.date %}{{ date }}                                   | {% endfor %}</dd>
      <dt class="meta-block__type">Contributing Institution</dt>   <dd class="meta-block__defin">{% for repository in item.repository_name %}{{ repository }}            | {% endfor %}</dd>
      <dt class="meta-block__type">Repository Data</dt>            <dd class="meta-block__defin">{% for repository_data in item.repository_data %}{{ repository_data }}  | {% endfor %}</dd>
      <dt class="meta-block__type">Campus</dt>                     <dd class="meta-block__defin">{% for campus in item.campus_name %}{{ campus }}                        | {% endfor %}</dd>
      <dt class="meta-block__type">campus_url</dt>                 <dd class="meta-block__defin">{% for campus_url in item.campus_url %}{{ campus_url }}                 | {% endfor %}</dd>
      <dt class="meta-block__type">Collection</dt>                 <dd class="meta-block__defin">{% for collection_name in item.collection_name %}{{ collection_name }}  | {% endfor %}</dd>
      <dt class="meta-block__type">Collection Data                 <dd class="meta-block__defin">{% for collection_data in item.collection_data %}{{ collection_data }}  | {% endfor %}</dd>
      <dt class="meta-block__type">Identifier</dt>                 <dd class="meta-block__defin">{% for identifier in item.identifier %}{{ identifier }}                 | {% endfor %}</dd>
      <dt class="meta-block__type">Format</dt>                     <dd class="meta-block__defin">{% for format in item.format %}{{ format }}                             | {% endfor %}</dd>
      <dt class="meta-block__type">Notes</dt>                      <dd class="meta-block__defin">{% for description in item.description %}{{ description }}              | {% endfor %}</dd>
      <dt class="meta-block__type">Subject</dt>                    <dd class="meta-block__defin">{% for subject in item.subject %}{{ subject }}                          | {% endfor %}</dd>
      <dt class="meta-block__type">Rights</dt>                     <dd class="meta-block__defin">{% for rights in item.rights %}{{ rights }}                             | {% endfor %}</dd>
      <dt class="meta-block__type">Publisher</dt>                  <dd class="meta-block__defin">{% for publisher in item.publisher %}{{ publisher }}                    | {% endfor %}</dd>

      <dt class="meta-block__type">Timestamp</dt>                  <dd class="meta-block__defin">{{ item.timestamp }}</dd>
      <dt class="meta-block__type">Id</dt>                         <dd class="meta-block__defin">{{ item.id }}</dd>
      <dt class="meta-block__type">Created</dt>                    <dd class="meta-block__defin">{{ item.created }}</dd>
      <dt class="meta-block__type">Last Modified</dt>              <dd class="meta-block__defin">{{ item.last_modified }}</dd>

      <dt class="meta-block__type">Campus</dt>                     <dd class="meta-block__defin">{{ item.campus }}</dd>
      <dt class="meta-block__type">Repository</dt>                 <dd class="meta-block__defin">{{ item.repository }}</dd>
      <dt class="meta-block__type">Collection</dt>                 <dd class="meta-block__defin">{{ item.collection }}</dd>

      <dt class="meta-block__type">Coverage</dt>                   <dd class="meta-block__defin">{{ item.coverage }}</dd>
      <dt class="meta-block__type">Language</dt>                   <dd class="meta-block__defin">{{ item.language }}</dd>
      <dt class="meta-block__type">Source</dt>                     <dd class="meta-block__defin">{{ item.source }}</dd>
      <dt class="meta-block__type">Type</dt>                       <dd class="meta-block__defin">{{ item.type }}</dd>
      <dt class="meta-block__type">Date Facet</dt>                 <dd class="meta-block__defin">{{ item.date_facet }}</dd>
      <dt class="meta-block__type">url_item</dt>                   <dd class="meta-block__defin">{{ item.url_item }}</dd>
      <dt class="meta-block__type">reference_image_md5</dt>        <dd class="meta-block__defin">{{ item.reference_image_md5 }}</dd>

      <dt class="meta-block__type">Relation</dt>                   <dd class="meta-block__defin">{{ item.relation }}</dd>
      <dt class="meta-block__type">payloads</dt>                   <dd class="meta-block__defin">{{ item.payloads }}</dd>
      <dt class="meta-block__type">Score</dt>                      <dd class="meta-block__defin">{{ item.score }}</dd>
    </dl>

  </div>

{% endfor %}
<!--
  header returned from solr; for debugging
  {{ item_solr_search.header|safe }}
  -->
{% endblock %}
